<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
  google.maps.event.addDomListener(window, 'load', function() {
    var latlng = new google.maps.LatLng(<%= library.latitude %>, <%= library.longitude %>),
    var options = {
      zoom: 16,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP,
      scaleControl: true
    };
    var map = new google.maps.Map(document.getElementById("library_map"), options);
    var marker = new google.maps.Marker({
position: latlng,
      map: map, 
      title: '<%= library.display_name.localize %>'
    });
    var infowindow = new google.maps.InfoWindow({
      content: '<%= library.display_name.localize %>'
    });
    google.maps.event.addListener(marker, 'click', function() {
      infowindow.open(map,marker);
    });
  });
</script>
<div id="library_map" style="width: 500px; height: 500px;"></div>
