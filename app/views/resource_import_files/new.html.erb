<div id="content_detail" class="ui-corner-all ui-widget-content">
  <h1 class="title"><%= t('page.new', model: t('activerecord.models.resource_import_file')) -%></h1>
  <div id="content_list">

  <%= form_with(model: @resource_import_file) do |f| -%>
    <%= error_messages(@resource_import_file) -%>

    <div class="field">
      <%= f.label t('page.file') -%><br />
      <%= f.file_field :resource_import -%>
    </div>

    <div class="field">
      <%= f.label :edit_mode -%><br />
      <%= f.radio_button :edit_mode, 'create', checked: 'checked' %>
      <%= f.label :edit_mode, t('page.create'), value: 'create' %>
      <%= f.radio_button :edit_mode, 'update' %>
      <%= f.label :edit_mode, t('page.update'), value: 'update' %>
      <%= f.radio_button :edit_mode, 'update_relationship' %>
      <%= f.label :edit_mode, t('resource_import_file.update_relationship'), value: 'update_relationship' %>
      <!--
      <%= f.radio_button :edit_mode, 'destroy' %>
      <%= f.label :edit_mode, t('page.destroy'), value: 'destroy' %>
      -->
    </div>

    <div class="field">
      <%= f.label :user_encoding -%><br />
      <%= f.radio_button :user_encoding, 'auto_detect', checked: 'checked' %>
      <%= f.label :user_encoding, t('import.auto_detect'), value: 'auto_detect' %>
      <%= f.radio_button :user_encoding, 'utf-8' %>
      <%= f.label :user_encoding, 'UTF-8', value: 'utf-8' %>
      <%= f.radio_button :user_encoding, 'shift_jis' %>
      <%= f.label :user_encoding, 'Shift_JIS', value: 'shift_jis' %>
      <%= f.radio_button :user_encoding, 'euc-jp' %>
      <%= f.label :user_encoding, 'EUC-JP', value: 'euc-jp' %>
    </div>

    <div class="field">
      <%= f.label :default_shelf_id -%>
      <%= f.select :library_id, @libraries.map{|l| [l.display_name.localize, l.id]} %>
      <%= f.select :default_shelf_id, @shelves.map{|s| [s.display_name.localize, s.id]} %>
      <%= render 'observe_field' %><br />
      <%= t('resource_import_file.default_shelf') %>
    </div>

    <div class="actions">
      <%= f.hidden_field :mode, value: 'import' %>
      <%= f.submit t('page.start_import') %>
    </div>
  <%- end -%>

  </div>
</div>

<div id="submenu" class="ui-corner-all ui-widget-content">
  <ul>
    <li><%= back_to_index(flash[:page_info]) %></li>
  </ul>
</div>
